{% extends "base.html" %}
{% block title %}Страница пользователя {{ profile.username }}{% endblock %}

{% block content %}
  <h1 class="text-center section-title" style="margin-bottom: 3rem;">Страница пользователя {{ profile.username }}</h1>

  <section style="max-width: 700px; margin: 0 auto 3rem auto; color: var(--pink); text-align: center;">
    <ul style="list-style: none; padding: 0; margin: 0; display: flex; justify-content: center; gap: 2rem; flex-wrap: wrap;">
      <li>Имя пользователя: <span style="color: var(--neon); font-weight: 600;">{% if profile.get_full_name %}{{ profile.get_full_name }}{% else %}не указано{% endif %}</span></li>
      <li>Регистрация: <span style="color: var(--neon); font-weight: 600;">{{ profile.date_joined|date:"d E Y" }}</span></li>
      <li>Роль: <span style="color: var(--neon); font-weight: 600;">{% if profile.is_staff %}Админ{% else %}Пользователь{% endif %}</span></li>
    </ul>

    {% if user.is_authenticated and request.user == profile %}
      <div style="margin-top: 1.5rem; display: flex; justify-content: center; gap: 1rem; flex-wrap: wrap;">
        <a href="{% url 'blog:edit_profile' %}" class="read-more" style="padding: 0.4rem 1rem; font-size: 0.9rem;">Редактировать профиль</a>
        <a href="{% url 'password_change' %}" class="read-more" style="padding: 0.4rem 1rem; font-size: 0.9rem;">Изменить пароль</a>
      </div>
    {% endif %}
  </section>

  <h3 class="section-title text-center" style="margin-bottom: 3rem;">Публикации пользователя</h3>

  <section style="max-width: 1200px; margin: 0 auto;">
    <div class="posts-grid">
      {% for post in page_obj %}
        <article>
          {% include "includes/post_card.html" %}
        </article>
      {% endfor %}
    </div>
    {% include "includes/paginator.html" %}
  </section>
{% endblock %}
